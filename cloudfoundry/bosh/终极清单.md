# 闷骚的第一步
```sh

# 这两个命令是等效的
bosh env 等同于命令 bosh -e <你环境的名称> env
# 事实上在bosh里面，要先创建env，然后才能对环境做一些操作。https://bosh.io/docs/quick-start/#prerequisites
# 对于bosh来说，env就是命根子啊，没有env，什么也做不了，可以把env想象成bosh的环境实例
# 后面的所有命令都要指定某个env的情况下才能继续往下执行


# 更新cloud-config
bosh -e vbox update-cloud-config bosh-deployment/warden/cloud-config.yml
# 上面可以看出来使用的是vbox这个env来执行动作update-cloud-config

# 更新镜像stemcell：https://bosh.io/docs/uploading-stemcells/
bosh -e vbox upload-stemcell https://bosh.io/d/stemcells/bosh-warden-boshlite-ubuntu-trusty-go_agent?v=3468.17 \
  --sha1 1dad6d85d6e132810439daba7ca05694cec208ab
# 后面当然要制定镜像的地址。


# 更新release: https://bosh.io/docs/uploading-releases/
bosh -e vbox upload-release https://bosh.io/d/github.com/cppforlife/zookeeper-release?v=0.0.5 --sha1 65a07b7526f108b0863d76aada7fc29e2c9e2095
bosh -e vbox upload-release ~/Downloads/zookeeper-0.0.5.tgz

bosh releases # 查看所有的releases




# 在bosh的整体架构中，最重要的点就是分层结构，通过不同的层级来确定做不同的事情，这是一个可以借鉴的思想。比如cloud config与deployment的递进关系。




bosh stop name/id # 停止某个instance



```

# bosh相关的监控
https://bosh.io/docs/events/

```sh
# 所谓的event就是bosh中任何人在任何时间对bosh做了什么事情。
# 以下几种事情都被bosh自动记录：
#   cloud config update
#   runtime config update
#   deployment create/update/delete
#   VM create/delete
#   disk create/delete
#   bosh ssh events

bosh events # 查看当前有多少个event正在运行
bosh events --deployment <你的deployment的名称>

# 每个event都有一个ID，那么还可以这么玩
bosh events --deployment slow-nats --before-id 5208

# 也可以根据instance来monitoring
bosh events --instance zookeeper/ca5f695a-eb81-49fd-a577-33825cb1b5fc
# 上面表示，有一个instance叫zookeeper/ca5f695a-eb81-49fd-a577-33825cb1b5fc
# 当然你执行上面命令的前提是你已经通过 bosh events已经知道了你想要监控的某个event，然后你精确的狙击该event




```
